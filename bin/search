#!/usr/bin/env php
<?php

namespace Vinhson\Search;

use Symfony\Component\Console\Application;
use Vinhson\Search\Commands\{Actions\UploadCommand,
    Actions\PushCommand,
    ComposerProxyCommand,
    ConfigCommand,
    EnvCommand,
    GitProxyCommand,
    SendCommand,
    UnProxyCommand,
    UserCommand};

$autoloads = [
    __DIR__ . '/../vendor/autoload.php',
    __DIR__ . '/../../../autoload.php'
];
foreach ($autoloads as $autoload) {
    if (file_exists($autoload)) {
        require_once $autoload;
    }
}

try {
    $app = new Application();
    $app->add(new GitProxyCommand());
    $app->add(new UnProxyCommand());
    $app->add(new SendCommand());
    $app->add(new UserCommand());
    $app->add(new ComposerProxyCommand());
    $app->add(new ConfigCommand());
    $app->add(new PushCommand());
    $app->add(new EnvCommand());
    $app->add(new UploadCommand());
    $app->run();
} catch (\Exception $e) {
}
